!function(a,b,c){c.Player.registerExtension("controls",{initialize:function(){this._controls={container:this.$container.find(".smile-controls")},this._controls.container[0].smile=this},ready:function(){var a=this,b=this._controls,d=function(a){b.container.find(".smile-button-play").removeClass("play pause").addClass(a)},e=function(){var c="vol3";a.media.muted?c="vol0":(a.media.volume<.66&&(c="vol2"),a.media.volume<.33&&(c="vol1"),0==a.media.volume&&(c="vol0")),b.container.find(".smile-button-volume").removeClass("vol0 vol1 vol2 vol3").addClass(c),b.container.find(".smile-volume-progress-bar").css("width",(a.media.muted?0:100*a.media.volume)+"%")},f=function(){var b;for(b=a.media.buffered.length-1;b>=0;b-=1)if(a.media.buffered.start(b)<a.media.currentTime)return b;return 0},g=function(){if(a.media.duration){var d=a.media.buffered.length&&a.media.buffered.end(f()),e=a.media.currentTime,g=a.media.duration;b.container.find(".smile-time-display").text(c.util.formatTime(1e3*e)),b.container.find(".smile-time-progress-bar").css("width",e/g*100+"%"),b.container.find(".smile-time-progress-buffer").css("width",100*(d&&d>e?(d-e)/g:0)+"%")}},h=function(a,b){var c=(a.pageX-b.offset().left)/b.width();return 0>c&&(c=0),c>1&&(c=1),c};this.media.addEventListener("timeupdate",function(){g()}),this.media.addEventListener("playing",function(){d("pause"),e(),g()}),this.media.addEventListener("waiting",function(){d("pause")}),this.media.addEventListener("pause",function(){d("play")}),this.media.addEventListener("ended",function(){d("play")}),this.media.addEventListener("volumechange",function(){e()}),this.media.addEventListener("progress",function(){g()}),b.container.on("click",".smile-button-play.play",function(b){a.media.play(),b.preventDefault()}),b.container.on("click",".smile-button-play.pause",function(b){a.media.pause(),b.preventDefault()}),b.container.on("click",".smile-button-volume",function(b){a.media.setMuted(!a.media.muted),b.preventDefault()}),b.container.on("click",".smile-button-fullscreen",function(b){(a.container.webkitRequestFullscreen||a.container.mozRequestFullScreen).call(a.container),b.preventDefault()}),b.container.on("mouseup",".smile-time-progress",function(c){if(a.media.duration){var d=h(c,b.container.find(".smile-time-progress"));a.media.setCurrentTime(d*a.media.duration)}}),b.container.on("mouseup",".smile-volume-progress",function(c){if(!a.media.muted){var d=h(c,b.container.find(".smile-volume-progress"));a.media.setVolume(d)}}),d("play")}})}(jQuery,mejs,smile);